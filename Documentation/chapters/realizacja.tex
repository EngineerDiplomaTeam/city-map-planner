%! Author = Wiktor Rostkowski
%! Date = 13/06/2024

\chapter{Realizacja Projektu}
\label{ch:realizacja}


\section{Faza Przedprojektowa}
\label{sec:faza-przedprojektowa}

W ramach fazy przedprojektowej zostały wykonane kluczowe dokumenty~i~analizy, które stanowią fundament dla całego projektu.\newline
\indent Na początku stworzono Kartę Projektu, która definiuje cel projektu, zakres, główne założenia oraz zasoby potrzebne do jego realizacji. 
Jest to podstawowy dokument zapewniający ogólne ramy działania~i~wytyczający kierunek dla wszystkich kolejnych działań projektowych.
\indent Następnie opracowano Dokument Założeń Wstępnych, który szczegółowo opisuje podstawowe wymagania funkcjonalne~i~niefunkcjonalne projektu. 
Ten dokument stanowi podstawę dla dalszej analizy~i~planowania działań projektowych. \newline
\indent Kolejnym kluczowym dokumentem była Specyfikacja Wymagań Systemowych (SWS), 
zawierająca szczegółowy opis wymagań systemowych, które muszą zostać spełnione~w~celu realizacji projektu. 
Celem tego etapu było udokumentowanie procesu zbierania, przetwarzania~i~analizowania wymagań oraz decyzji podjętych na podstawie tych działań.\newline
\indent Istotnym elementem tej fazy była również Analiza Rozwiązań Konkurencyjnych, która obejmowała 
przegląd~i~ocenę istniejących rozwiązań dostępnych na rynku, konkurencyjnych względem planowanego projektu.
\indent Analiza ta pozwoliła na identyfikację mocnych~i~słabych stron konkurencyjnych produktów oraz określenie unikalnych cech, które mogą 
być zaimplementowane~w~naszym projekcie.\newline
\indent Kolejnym krokiem była Analiza Aspektów Społecznych, oceniająca wpływ projektu na społeczeństwo,~w~tym 
identyfikacja potencjalnych korzyści~i~ryzyk społecznych. Analiza ta uwzględniła także kwestie etyczne~i~prawne związane z realizacją projektu. \newline
\indent Ostatnim, ale nie mniej ważnym elementem był Plan Komercjalizacji Projektu Dyplomowego, określający
 sposób na wprowadzenie projektu na rynek. Plan ten był opracowany na podstawie Business Model Canvas.\newline
Dokumentacja wykonana~w~fazie przedprojektowej stanowiła solidną podstawę dla realizacji projektu, 
zapewniając klarowne wytyczne oraz pełne zrozumienie wymagań~i~kontekstu rynkowego. Dokładne udokumentowanie procesu~i~podjętych decyzji~w~tej fazie umożliwia skuteczne zarządzanie projektem oraz minimalizowanie ryzyka związanego z jego realizacją.

\section{Aplikacja City Map Planner}
\label{sec:aplikacja}

Po zakończeniu prac analitycznych~i~omówieniu przewidywanych funkcjonalności przeprowadzono analizę możliwych decyzji projektowych. 
Podjęto działania umożliwiające wybór odpowiednich rozwiązań projektowych. 
Następnie przystąpiono do realizacji poszczególnych komponentów systemu.

\subsection{Przyrost I - utworzenie szkieletu aplikacji oraz Potoki testów aplikacji}
\label{sec:przyrost1}

W ramach pierwszego przyrostu utworzono szkielet aplikacji~i~potoki testów, obejmujące backend, frontend oraz ciągłe dostarczanie (CI/CD). \newline
\indent Przygotowano Backend WebAPI umożliwiający rozbudowę pod RESTAPI. Wdrożono podstawowe testy funkcjonalne, aby upewnić się, że WebAPI działa poprawnie.\newline
\indent Frontend został zaprojektowany zgodnie z zasadami Material Design~i~zintegrowany z backendem poprzez przykładowe zapytania do API, umożliwiając interakcję użytkownika z danymi na serwerze. \newline
\indent Wdrożono potok CI/CD, automatyzujący budowanie, testowanie~i~wdrażanie aplikacji przy użyciu narzędzia GitHub Actions. Potok ten uruchamiał testy integracyjne, weryfikując poprawność działania wszystkich komponentów aplikacji,~w~tym dokumentacji książki pisanej~w~Latex. \newline
\indent Wszystkie zadania przedstawiono na wykresie Gantta, monitorując postępy~i~identyfikując ewentualne opóźnienia. Stworzono solidny fundament aplikacji, umożliwiający dalszy rozwój funkcjonalności oraz zapewniający stabilną~i~skalowalną architekturę. \newline
W wyniki czego wykorzystując rozważania podjętych decyzji przygotowano aplikacje, żeby realizowała zadania WO5 (strona \pageref{tab:requirements:general5}),NF01 (strona \pageref{tab:requirements:nonfunc1}), NF02 (strona \pageref{tab:requirements:nonfunc2}), ŚD02 (strona \pageref{tab:requirements:envfunc2}).

\subsection{Przyrost II - utworzenie widoku mapy,~w~tym integracja  Overpass}
    \label{sec:przyrost2}

    W ramach drugiego przyrostu projektu zrealizowano kluczowe zadania, które rozszerzyły funkcjonalność~i~integrację systemu. \newline
    \indent Pierwszym krokiem była integracja klienta Overpass API, umożliwiająca pozyskiwanie danych z OpenStreetMap. Zbudowano klienta API do wysyłania zapytań~i~przetwarzania odpowiedzi, co pozwala na dynamiczne pobieranie~i~aktualizowanie danych mapowych.\newline
    \indent Następnie przygotowano encje dla Entity Framework Core, definiując model danych odpowiadający strukturze bazy danych.
    Wykonano kontrolery integrujące usługi, które obsługują żądania użytkowników~i~komunikację między frontendem a backendem. Kontrolery korzystają z usług~i~encji do realizacji funkcjonalności aplikacji.\newline
    \indent Implementacja warstwy domeny obejmowała logikę biznesową, definiując zasady~i~operacje na danych. Warstwa domeny oddziela logikę biznesową od technicznych szczegółów, co poprawia modularność~i~utrzymanie kodu.\newline
    \indent Przygotowano również Data Transfer Objects (Dto) do przenoszenia danych między warstwami aplikacji.    \newline
    \indent Ostatnim etapem była integracja modułu \glslink{openlayers}{Open layers}  do tworzenia interaktywnych map.\newline
    Te działania znacząco rozszerzyły funkcjonalność aplikacji, poprawiając jej elastyczność, skalowalność~i~użyteczność.\newline

    Podsumowując~w~ramach przyrostu wykonano wymagania FO1 ( strona \pageref{tab:requirements:func1}), IO3 (strona \pageref{tab:requirements:env3}), IO4 strona \pageref{tab:requirements:env4}).

    \subsection{Przyrost III - zarządzanie użytkownikiem}
    \label{sec:przyrost3}
    W ramach trzeciego przyrostu projektu zrealizowano funkcje związane z zarządzaniem kontem użytkownika, obejmujące logowanie, rejestrację, zarządzanie kontem oraz autoryzację~i~odzyskiwanie hasła. \newline
    \indent Uniwersalny widok logowania~i~rejestracji: Stworzono jeden widok, który umożliwia zarówno logowanie, jak~i~rejestrację. Rejestracja wymaga potwierdzenia poprzez link wysłany na e-mail użytkownika. \newline
    \indent Widok zarządzania kontem umożliwia zarządzaniem kontem poprzez edycję danych email, zmianę hasła jak~i~usuniecie konta. \newline 
    \indent Dodano mechanizm umożliwiający użytkownikom odzyskiwanie hasła poprzez e-mail z linkiem do jego resetowania.
    W ramach przyrostu udało się spełnić wymagania o numerach WO1 (strona \pageref{tab:requirements:general1}), WO6 (strona \pageref{tab:requirements:general6}) oraz F24 (strona \pageref{tab:requirements:func24}).
    %W ramach tego przyrostu trzeciego wykonano:
    %\begin{itemize}
    %    \item widok logowania;
    %    \item widok rejestracji z automatycznym potwierdzeniem,


    %    \item widok zarządzania kontem;
    %    \item zaimplementowano autoryzacje logowania po stronie aplikacji oraz bazy danych,
    %\end{itemize}

    %https://github.com/EngineerDiplomaTeam/city-map-planner/tree/b85c21829a74f57ce20414a7fa3ab3a398ad9833/Backend/WebApi/Extensions
    %https://github.com/EngineerDiplomaTeam/city-map-planner/commit/bbdbb4fdca805acd2438365551f4f361532bc34d


    \subsection{Przyrost IV - algorytm Trasy - \glslink{poidef}{POI}}
    \label{sec:przyrost4}
    W ramach czwartego przyrostu projektu zrealizowano kluczowe funkcje zwiększające interaktywność~i~użyteczność aplikacji. \newline
    \indent Stworzono listę popularnych atrakcji turystycznych~w~Gdańsku, służącą jako inspiracja~i~pokaz możliwości aplikacji. \newline
    \indent Wprowadzono do bazy danych \glslink{poidef}{POI} z podstawowymi informacjami, takimi jak nazwa, opis, lokalizacja~i~godziny otwarcia. \newline
    \indent Zaimplementowano algorytm wyznaczania optymalnych tras pomiędzy wybranymi \glslink{poidef}{POI}, uwzględniający odległość, czas podróży. \newline
    \indent Dodano ekran koszyka, gdzie użytkownicy mogą zbierać~i~zarządzać listą wybranych \glslink{poidef}{POI}, co ułatwia planowanie wycieczek. \newline
    \indent Wprowadzono wyświetlanie indywidualnych zdjęć dla każdego \glslink{poidef}{POI}, co wzbogaca wizualne doświadczenie użytkowników.\newline
    \indent Wykonano panel administarcjny do edytowania wszystkich parametrów \glslink{poidef}{POI}.
    Podsumowując, podczas przyrostu zrealizowano wymagania WO3(strona \pageref{tab:requirements:general3}),FO4 (strona \pageref{tab:requirements:func4}), F05 (strona \pageref{tab:requirements:func5}), FO10 (strona \pageref{tab:requirements:func10})~i~F019 (strona \pageref{tab:requirements:func19}).


    %W ramach tego przyrostu czwartego wykonano:
    %\begin{itemize}
    %    \item dodanie \glslink{poidef}{POI} na mapie uzwgledniając wszystkie podstawowe informacje;
    %    \item dodanie algorytmu przeszukania trasy pomiędzy \glslink{poidef}{POI};
    %    \item dodanie ekranu koszyka z \glslink{poidef}{POI};
        %https://github.com/EngineerDiplomaTeam/city-map-planner/commit/88c32b690c76b113173d056ec0be1fa74c81709a#diff-ede64cf229dabd7c007a109c15db77bcacd008a0cf42e1eacca43c3e3da9af97
    %    \item dodanie indywidualnych zdjeć;
        %https://github.com/EngineerDiplomaTeam/city-map-planner/commit/354caede1081fe73ca98350bd1aceff95c7df8c9
    %    \item wykonano liste przykładowych atrakcji~w~Gdańsku
    %\end{itemize}


    \subsection{Przyrost V - zarządzanie POI~i~kalendarz podróży}
    \label{sec:przyrost5}

    W ramach tego przyrostu piątego wprowadzono integrację z ChatGPT, umożliwiającą importowanie aktualnych informacji o~godzinach otwarcia atrakcjach turystycznych. 
    Dzięki temu użytkownicy mogą uzyskać najnowsze dane dotyczące miejsc, które planują odwiedzić.\newline
    \indent Integracja z ChatGPT przyniosła jednak pewne trudności. Za każdym razem, gdy ChatGPT dostarczał informacje, robił to~w~innym schemacie, 
    co wymagało dodatkowego przetwarzania danych. Było to wyzwaniem, ponieważ zmienność~w~strukturze danych utrudniała ich automatyczne parsowanie~i~integrację z naszą bazą danych. \newline 
    \indent Aby rozwiązać ten problem, zaimplementowano dodatkowe warstwy weryfikacji~i~normalizacji danych, które standaryzowały informacje dostarczane przez ChatGPT.\newline
    \indent Stworzono ekran kalendarza podróży, który pozwala użytkownikom na planowanie~i~organizowanie swoich wycieczek.
    Kalendarz umożliwia łatwe dodawanie, edytowanie~i~przeglądanie zaplanowanych wizyt~w~różnych miejscach.\newline
    \indent Dodano widok podsumowania podróży, który prezentuje zorganizowane informacje o wszystkich zaplanowanych punktach zainteresowania. 
    Użytkownicy mogą przeglądać swoje trasy, czasy wizyt oraz dodatkowe szczegóły dotyczące każdej atrakcji. \newline
    \indent Aplikacja oraz baza danych zostały zintegrowane z API pogodowym, co umożliwia wyświetlanie aktualnych informacji o pogodzie dla zaplanowanych punktów zainteresowania. 
    Dzięki temu użytkownicy mogą lepiej planować swoje wizyty, uwzględniając warunki atmosferyczne. \newline
    Ulepszono widok kalendarza o dodatkowe kolory~w~celu lepszego wyróżnienia aplikacji. 

    W efekcie przyrostu wykonano wymagania IO7 (strona \pageref{tab:requirements:env7}), FO13 (strona \pageref{tab:requirements:func13}), FO14 (strona \pageref{tab:requirements:func14}).

    %\begin{itemize}
    %    \item integracja chatGPT do inportowania aktualnych o atrakcjach;
        % https://github.com/EngineerDiplomaTeam/city-map-planner/commit/989c85a11ceb0f7f9951f04838e4464c0a47d070
    %    \item dodanie ekranu kalendarza podróży
    %    \item Widok podsumowania podróży
        %https://github.com/EngineerDiplomaTeam/city-map-planner/commit/796bac2b6bc5db568a7aabc7dcdef299117c2da2
    %    \item integracja aplikacji oraz bazy danych z API pogodowym
        %https://github.com/EngineerDiplomaTeam/city-map-planner/commit/1f899291a34701bfa61bfc0b39fd558b628bb966
    %    \item poprawienie widoku kalendarza
       % https://github.com/EngineerDiplomaTeam/city-map-planner/commit/a3d894bcbf5c319bb2cd109a9b2c3e58db29ef56
    % \end{itemize}

    \subsection{Przyrost VI - widok wszystkich atrakcji integracja pogody}
    \label{sec:przyrost6}

    W ramach szóstego przyrostu projektu zrealizowano następujące zadania:
  
    \indent Dodano funkcjonalność wyświetlania informacji o pogodzie~w~widoku 
    przeglądarki internetowej, dzięki czemu użytkownicy mogą na bieżąco sprawdzać warunki atmosferyczne dla wszystkich punktów zainteresowania bezpośrednio~w~aplikacji. 
    Dodatkowo, wprowadzono funkcję zalecanej pogody dla każdej aplikacji na widokach \glslink{poidef}{POI}, 
    co umożliwia użytkownikom uzyskanie rekomendacji pogodowych dla poszczególnych miejsc. Dzięki tym zmianom zrealizowano wymagania F27 (strona \pageref{tab:requirements:func27}) oraz IO2 (strona \pageref{tab:requirements:env2}). \newline
    \indent Stworzono widok listy wszystkich punktów zainteresowania \glslink{poidef}{POI}, umożliwiający użytkownikom 
    przeglądanie~i~wyszukiwanie interesujących miejsc. Lista zawiera szczegółowe informacje 
    o każdej atrakcji, co ułatwia korzystanie z urządzeń 
    typu czytnik oraz przyspiesza wybieranie atrakcji spośród wszystkich dostępnych miejsc. 
    
    Podsumowując,~w~trakcie tego przyrostu osiągnięto realizacje wymagania o numerze F03 (strona \pageref{tab:requirements:func3}).


    \section{Podsumowanie realizacji}
    \label{sec:podsumowanie realizacji}
    W ramach realizowanego projektu udało się zrealizować wszystkie zadania oznaczone jako MUST oraz kilka zadań oznaczonych jako SHOULD~i~COULD. 
    Poniższa tabela przedstawia podsumowanie wszystkich zadań związanych z realizacją pracy dyplomowej, które zostały zapisane~w~systemie kontroli wersji GitHub. 
    Każde zadanie zostało dokładnie opisane, przypisano do niego odpowiedzialną osobę oraz oszacowano czas poświęcony na jego wykonanie.

    Dzięki cyklicznym przeglądom~i~dokumentowaniu wszystkich działań na tablicy Kanban~w~ramach GitHub Project możliwe było 
    dokładne zarządzanie projektem. Biorąc pod uwagę, że jest to praca dyplomowa, powyższe działania~i~dokumentacja umożliwiły efektywne monitorowanie postępów oraz zapewniły 
    transparentność~i~organizację całego procesu projektowego.

    \begin{table}[h!]
        \centering
        \begin{tabular}{|c|c|c|}
            \hline					
Zadanie	&	Osoba odpowiedzialna	& Czas spędzony\\
\hline
Przygotowanie struktury tabel dot. POI	&	 Wiktor Rostkowski	&	10	\\
Adjust pins in summary view to include numbers	&	Mateusz Budzisz	&	2	\\
Allow .NET logs read from browser	&	Mateusz Budzisz	&	7	\\
Integracja AI z formularzem godzin POI	&	Mateusz Budzisz	&	12	\\
Prawdziwe dane atrakcji	&	Mateusz Budzisz	&	14	\\
Licencjonowanie grafik (Creative Commons)	&	Mateusz Budzisz	&	4	\\
List of attractions in Gdańsk	&	Wiktor Rostkowski	&	6	\\
Map with poi markers	&	Mateusz Budzisz	&	15	\\
Technology choices chapter	&	Mateusz Budzisz	&	10	\\
KP Update to final version	&	Wiktor Rostkowski	&	3	\\
DZW Fill documentation	&	Wiktor Rostkowski	&	2	\\
Create OSM ETL process	&	Mateusz Budzisz	&	20	\\
SWS Fill documentation	&	Wiktor Rostkowski	&	13	\\
DZW: Korekta stylistyczna	&	Mateusz Budzisz	&	3	\\
Setup self hosted Github Actions runner	&	Mateusz Budzisz	&	2	\\
Create blank Frontend \& Backend	&	Mateusz Budzisz	&	4	\\
Create CI/CD pipeline	&	Mateusz Budzisz	&	3	\\
Implement leaflet with dark mode support	&	Mateusz Budzisz	&	5	\\
Upgrade Angular \& .NET	&	Mateusz Budzisz	&	3	\\
Setup Postgresql database with timescale db extensions	&	Mateusz Budzisz	&	2	\\
Research LaTeX	&	Wiktor Rostkowski	&	3	\\
Research log solution for .NET	&	damiankreft	&	1	\\
Use case Diagram	&	s-kreft	&		\\
Review Documentation FIles	&	Mateusz Budzisz	&	1	\\
Store project documentation inside repository	&	s-kreft	&		\\
CICD for LaTeX thesis	&	Mateusz Budzisz	&	2	\\
Add description to improve SEO	&	Wiktor Rostkowski	&	2	\\
Rich Picture	&	damiankreft, s-kreft	&		\\
Integracja z API pogoodowym - podłączenie pod API	&	Wiktor Rostkowski	&		\\
Panel Administracyjny - Dodawanie, Usuwanie, Edycja atrakcji	&	Mateusz Budzisz	&	10	\\
Korekta stylistyczna rozdziału o technologii	&	Mateusz Budzisz	&	6	\\
\hline
\end{tabular}
\caption{Tabela podsumowująca czas pracy}
\label{tab:podsumowanie prac}
\end{table}

\begin{table}[h!]
    \centering
    \begin{tabular}{|c|c|c|}
        \hline					
        Zadanie	&	Osoba odpowiedzialna	& Czas spędzony\\
        \hline		
Attractions cannot be moved to a  break in the calendar	&	Mateusz Budzisz	&	6	\\
Scenariusz prezentacji	&	Mateusz Budzisz	&	6	\\
Analiza ryzyka	&	s-kreft	&		\\
Spis treści	&	Wiktor Rostkowski	&	5	\\
Integracja z API pogodowym 	&	Wiktor Rostkowski	&	18	\\
Aspekty Społeczne	&	Wiktor Rostkowski	&	12	\\
przeredagowanie aspektów społecznych	&	Mateusz Budzisz	&	2	\\
Create authorisation flow: backend 	&	Mateusz Budzisz	&	25	\\
Dodanie Wykresu Gantta	&	Wiktor Rostkowski	&	2	\\
Path finding algorithm	&	Mateusz Budzisz	&	15	\\
Kalendarz umożliwiający rozłożenie atrakcji~w~czasie	&	Mateusz Budzisz	&	20	\\
Szkic widoku podsumowania wycieczki	&	Mateusz Budzisz	&	4	\\
review: Analiza Wymagania \# 121	&	Mateusz Budzisz	&	5	\\
Analiza Wymagania	&	Wiktor Rostkowski	&	15	\\
Sieć Petriego	&	Wszyscy	&	4	\\
poprawa wyświetlania godzin otwarcia poi~w~kalendarzu	&	Mateusz Budzisz	&	5	\\
Komercjalizacja	&	Wiktor Rostkowski	&	5	\\
List poi	&	Wiktor Rostkowski	&	4	\\
Merge Thesis	&	Mateusz Budzisz	&	30	\\
Merge Thesis	&	Wiktor Rostkowski	&	15	\\
\hline
\end{tabular}
\caption{Tabela podsumowująca czas pracy}
\label{tab:podsumowanie prac}
\end{table}