%! Author = Wiktor Rostkowski
%! Date = 13/06/2024

\chapter{Realizacja Projektu}
\label{ch:realizacja}
Po zakończeniu prac analitycznych i omówieniu przewidywanych funkcjonalności przeprowadzono analizę możliwych decyzji projektowych. Podjęto działania umożliwiające wybór odpowiednich rozwiązań projektowych. 
Następnie przystąpiono do realizacji poszczególnych komponentów systemu.

\section{Aplikacja City Map Planner}
\label{sec:aplikacja}

\subsection{Przyrost I - utworzenie szkieletu aplikacji oraz Potoki testów aplikacji}
\label{sec:przyrost1}

W ramach pierwszego przyrostu utworzono szkielet aplikacji i potoki testów, obejmujące backend, frontend oraz ciągłe dostarczanie (CI/CD). \newline
\indent Przygotowano Backend WebAPI umożliwiający rozbudowę pod RESTAPI. Wdrożono podstawowe testy funkcjonalne, aby upewnić się, że WebAPI działa poprawnie.\newline
\indent Frontend został zaprojektowany zgodnie z zasadami Material Design i zintegrowany z backendem poprzez przykładowe zapytania do API, umożliwiając interakcję użytkownika z danymi na serwerze. \newline
\indent Wdrożono potok CI/CD, automatyzujący budowanie, testowanie i wdrażanie aplikacji przy użyciu narzędzia GitHub Actions. Potok ten uruchamiał testy integracyjne, weryfikując poprawność działania wszystkich komponentów aplikacji, w tym dokumentacji książki pisanej w Latex. \newline
\indent Wszystkie zadania przedstawiono na wykresie Gantta, monitorując postępy i identyfikując ewentualne opóźnienia. Stworzono solidny fundament aplikacji, umożliwiający dalszy rozwój funkcjonalności oraz zapewniający stabilną i skalowalną architekturę. \newline
W wyniki czego wykorzystując rozważania podjętych decyzji przygotowano aplikacje, żeby realizowała zadania WO5,NF01, NF02, ŚD02

\subsection{Przyrost II - utworzenie widoku mapy, w tym integracja  Overpass}
    \label{sec:przyrost2}

    W ramach drugiego przyrostu projektu zrealizowano kluczowe zadania, które rozszerzyły funkcjonalność i integrację systemu. \newline
    \indent Pierwszym krokiem była integracja klienta Overpass API, umożliwiająca pozyskiwanie danych z OpenStreetMap. Zbudowano klienta API do wysyłania zapytań i przetwarzania odpowiedzi, co pozwala na dynamiczne pobieranie i aktualizowanie danych mapowych.\newline
    \indent Następnie przygotowano encje dla Entity Framework Core, definiując model danych odpowiadający strukturze bazy danych.
    Wykonano kontrolery integrujące usługi, które obsługują żądania użytkowników i komunikację między frontendem a backendem. Kontrolery korzystają z usług i encji do realizacji funkcjonalności aplikacji.\newline
    \indent Implementacja warstwy domeny obejmowała logikę biznesową, definiując zasady i operacje na danych. Warstwa domeny oddziela logikę biznesową od technicznych szczegółów, co poprawia modularność i utrzymanie kodu.\newline
    \indent Przygotowano również Data Transfer Objects (Dto) do przenoszenia danych między warstwami aplikacji.    \newline
    \indent Ostatnim etapem była integracja modułu \glslink{openlayers}{Open layers}  do tworzenia interaktywnych map.\newline
    Te działania znacząco rozszerzyły funkcjonalność aplikacji, poprawiając jej elastyczność, skalowalność i użyteczność.\newline

    Podsumowując w ramach przyrostu wykonano wymagania  FO1, IO3, IO4.

    \subsection{Przyrost III - zarządzanie użytkownikiem}
    \label{sec:przyrost3}
    W ramach trzeciego przyrostu projektu zrealizowano funkcje związane z zarządzaniem kontem użytkownika, obejmujące logowanie, rejestrację, zarządzanie kontem oraz autoryzację i odzyskiwanie hasła. \newline
    \indent Uniwersalny widok logowania i rejestracji: Stworzono jeden widok, który umożliwia zarówno logowanie, jak i rejestrację. Rejestracja wymaga potwierdzenia poprzez link wysłany na e-mail użytkownika. \newline
    \indent Widok zarządzania kontem umożliwia zarządzaniem kontem poprzez edycję danych email, zmianę hasła jak i usuniecie konta. \newline 
    \indent Dodano mechanizm umożliwiający użytkownikom odzyskiwanie hasła poprzez e-mail z linkiem do jego resetowania.
    W ramach przyrostu udało się spełnić wymagania WO1, WO6 oraz F24.
    %W ramach tego przyrostu trzeciego wykonano:
    %\begin{itemize}
    %    \item widok logowania;
    %    \item widok rejestracji z automatycznym potwierdzeniem,


    %    \item widok zarządzania kontem;
    %    \item zaimplementowano autoryzacje logowania po stronie aplikacji oraz bazy danych,
    %\end{itemize}

    %https://github.com/EngineerDiplomaTeam/city-map-planner/tree/b85c21829a74f57ce20414a7fa3ab3a398ad9833/Backend/WebApi/Extensions
    %https://github.com/EngineerDiplomaTeam/city-map-planner/commit/bbdbb4fdca805acd2438365551f4f361532bc34d


    \subsection{Przyrost IV - algorytm Trasy - \glslink{poidef}{POI}}
    \label{sec:przyrost4}
    W ramach czwartego przyrostu projektu zrealizowano kluczowe funkcje zwiększające interaktywność i użyteczność aplikacji. \newline
    \indent Stworzono listę popularnych atrakcji turystycznych w Gdańsku, służącą jako inspiracja i pokaz możliwości aplikacji. \newline
    \indent Wprowadzono do bazy danych \glslink{poidef}{POI} z podstawowymi informacjami, takimi jak nazwa, opis, lokalizacja i godziny otwarcia. \newline
    \indent Zaimplementowano algorytm wyznaczania optymalnych tras pomiędzy wybranymi \glslink{poidef}{POI}, uwzględniający odległość, czas podróży. \newline
    \indent Dodano ekran koszyka, gdzie użytkownicy mogą zbierać i zarządzać listą wybranych \glslink{poidef}{POI}, co ułatwia planowanie wycieczek. \newline
    \indent Wprowadzono wyświetlanie indywidualnych zdjęć dla każdego \glslink{poidef}{POI}, co wzbogaca wizualne doświadczenie użytkowników.\newline
    \indent Wykonano panel administarcjny do edytowania wszystkich parametrów POI.
    Podsumowując, podczas przyrostu zrealizowano wymagania WO3,FO4, F05, F10 i F019.


    %W ramach tego przyrostu czwartego wykonano:
    %\begin{itemize}
    %    \item dodanie \glslink{poidef}{POI} na mapie uzwgledniając wszystkie podstawowe informacje;
    %    \item dodanie algorytmu przeszukania trasy pomiędzy \glslink{poidef}{POI};
    %    \item dodanie ekranu koszyka z \glslink{poidef}{POI};
        %https://github.com/EngineerDiplomaTeam/city-map-planner/commit/88c32b690c76b113173d056ec0be1fa74c81709a#diff-ede64cf229dabd7c007a109c15db77bcacd008a0cf42e1eacca43c3e3da9af97
    %    \item dodanie indywidualnych zdjeć;
        %https://github.com/EngineerDiplomaTeam/city-map-planner/commit/354caede1081fe73ca98350bd1aceff95c7df8c9
    %    \item wykonano liste przykładowych atrakcji w Gdańsku
    %\end{itemize}


    \subsection{Przyrost V - zarządzanie POI i kalendarz podróży}
    \label{sec:przyrost5}

    W ramach tego przyrostu piątego wykonano:
    Wprowadzono integrację z ChatGPT, umożliwiającą importowanie aktualnych informacji o godzinach otwarcia atrakcjach turystycznych. 
    Dzięki temu użytkownicy mogą uzyskać najnowsze dane dotyczące miejsc, które planują odwiedzić.\newline
    \indent Integracja z ChatGPT przyniosła jednak pewne trudności. Za każdym razem, gdy ChatGPT dostarczał informacje, robił to w innym schemacie, 
    co wymagało dodatkowego przetwarzania danych. Było to wyzwaniem, ponieważ zmienność w strukturze danych utrudniała ich automatyczne parsowanie i integrację z naszą bazą danych. \newline 
    \indent Aby rozwiązać ten problem, zaimplementowano dodatkowe warstwy weryfikacji i normalizacji danych, które standaryzowały informacje dostarczane przez ChatGPT.\newline
    \indent Stworzono ekran kalendarza podróży, który pozwala użytkownikom na planowanie i organizowanie swoich wycieczek.
    Kalendarz umożliwia łatwe dodawanie, edytowanie i przeglądanie zaplanowanych wizyt w różnych miejscach.
    \indent Dodano widok podsumowania podróży, który prezentuje zorganizowane informacje o wszystkich zaplanowanych punktach zainteresowania. 
    Użytkownicy mogą przeglądać swoje trasy, czasy wizyt oraz dodatkowe szczegóły dotyczące każdej atrakcji. \newline
    \indent Aplikacja oraz baza danych zostały zintegrowane z API pogodowym, co umożliwia wyświetlanie aktualnych informacji o pogodzie dla zaplanowanych punktów zainteresowania. 
    Dzięki temu użytkownicy mogą lepiej planować swoje wizyty, uwzględniając warunki atmosferyczne. \newline
    Ulepszono widok kalendarza o dodatkowe kolory w celu lepszego wyróżnienia aplikacji. 

    W efekcie przyrostu wykonano wymagania IO7, FO13, FO14,

    %\begin{itemize}
    %    \item integracja chatGPT do inportowania aktualnych o atrakcjach;
        % https://github.com/EngineerDiplomaTeam/city-map-planner/commit/989c85a11ceb0f7f9951f04838e4464c0a47d070
    %    \item dodanie ekranu kalendarza podróży
    %    \item Widok podsumowania podróży
        %https://github.com/EngineerDiplomaTeam/city-map-planner/commit/796bac2b6bc5db568a7aabc7dcdef299117c2da2
    %    \item integracja aplikacji oraz bazy danych z API pogodowym
        %https://github.com/EngineerDiplomaTeam/city-map-planner/commit/1f899291a34701bfa61bfc0b39fd558b628bb966
    %    \item poprawienie widoku kalendarza
       % https://github.com/EngineerDiplomaTeam/city-map-planner/commit/a3d894bcbf5c319bb2cd109a9b2c3e58db29ef56
    % \end{itemize}

    \subsection{Przyrost VI - widok wszystkich atrakcji integracja pogody}
    \label{sec:przyrost6}

    W ramach szóstego przyrostu projektu zrealizowano następujące zadania:
  
    \indent Dodano funkcjonalność wyświetlania informacji o pogodzie w widoku 
    przeglądarki internetowej, dzięki czemu użytkownicy mogą na bieżąco sprawdzać warunki atmosferyczne dla wszystkich punktów zainteresowania bezpośrednio w aplikacji. 
    Dodatkowo, wprowadzono funkcję zalecanej pogody dla każdej aplikacji na widokach \glslink{poidef}{POI}, 
    co umożliwia użytkownikom uzyskanie rekomendacji pogodowych dla poszczególnych miejsc. Dzięki tym zmianom zrealizowano wymagania FO27 oraz IO2.
    \indent Stworzono widok listy wszystkich punktów zainteresowania \glslink{poidef}{POI}, umożliwiający użytkownikom 
    przeglądanie i wyszukiwanie interesujących miejsc. Lista zawiera szczegółowe informacje 
    o każdej atrakcji, co ułatwia korzystanie z urządzeń 
    typu czytnik oraz przyspiesza wybieranie atrakcji spośród wszystkich dostępnych miejsc. 
    
    Podsumowując, w trakcie tego przyrostu osiągnięto realizację wymagań F27 oraz F03.

